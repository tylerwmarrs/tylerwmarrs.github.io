<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Lyric Analysis of an Artist | Tyler Marrs</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="http://tylermarrs.com/posts/lyric-analysis-of-an-artist/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140537127-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-140537127-1');
</script><link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../../assets/css/theme.css">
<link rel="stylesheet" media="screen" href="http://openfontlibrary.org/face/railway-sans" type="text/css">
<link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="manifest" href="../../site.webmanifest">
<link rel="mask-icon" href="../../safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
<meta name="author" content="Tyler Marrs">
<link rel="prev" href="../billboard-hot-100-lyric-analysis/" title="Billboard Hot 100 Lyric Analysis" type="text/html">
<link rel="next" href="../edit-distance-hierarchical-clustering/" title="Edit Distance Hierarchical Clustering" type="text/html">
<meta property="og:site_name" content="Tyler Marrs">
<meta property="og:title" content="Lyric Analysis of an Artist">
<meta property="og:url" content="http://tylermarrs.com/posts/lyric-analysis-of-an-artist/">
<meta property="og:description" content="Introduction


    This is a follow up post to the lyric analysis performed for the Billboard Hot 100 songs lyric analysis (referred to as - Billboard analysis). Within the Billboard analysis, I attem">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2017-03-13T04:11:00-05:00">
<meta property="article:tag" content="data analytics">
<meta property="article:tag" content="data mining">
<meta property="article:tag" content="matplotlib">
<meta property="article:tag" content="nlp">
<meta property="article:tag" content="pandas">
<meta property="article:tag" content="python">
<meta property="article:tag" content="text analysis">
</head>
<body>
<!-- Menubar -->

<nav class="navbar navbar-inverse center" role="navigation"><div class="container">
    <div align="center">
      <img id="logo" src="../../images/me.jpg"><div id="blog-title">Tyler Marrs</div>
      <div id="blog-description">Yet another data scientist's blog.</div>
    </div>

    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
    </div>
    <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
<li>
<a href="../../pages/about/">About</a>
                </li>
<li>
<a href="../../">Blog</a>
                </li>
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>
                </li>
<li>
<a href="../../pages/projects/">Projects</a>
                </li>
<li>
<a href="../../rss.xml">RSS feed</a>

        </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<!--Add Links to social media sites --><!-- pass -->
</ul>
</div>
<!-- /.navbar-collapse -->
    </div>
</nav><!-- End of Menubar --><div class="container">
  <!--Body content-->
  <div class="row">
      
      
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Lyric Analysis of an Artist</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Tyler Marrs
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2017-03-13T04:11:00-05:00" itemprop="datePublished" title="2017-03-13">2017-03-13</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p></p>
<h2>
    Introduction
</h2>
<p>
    This is a follow up post to the lyric analysis performed for the <a href="http://tylermarrs.com/billboard-hot-100-lyric-analysis/">Billboard Hot 100 songs lyric analysis</a> (referred to as - Billboard analysis). Within the Billboard analysis, I attempted to find trends within the lyrics that may influence why a particular song is popular. However, I did not find anything of interest. After no trends were found in the Billboard analysis, I wondered what I could find by analyzing every song performed by an artist. There is no particular trend of interest that I tried to find within an artist. This is purely an exploratory endeavor. All of the code associated with this pipeline can be found at the following <a href="https://github.com/tylerwmarrs/single-artist-lyric-analysis" target="_blank">Github repository</a>.
</p>

<p>
    <u><strong>Please take caution while reading this blog post. Some offensive language is used for analysis purposes.</strong></u>
</p>

<h2>
    Methods
</h2>

<p>
    In this section you will find the methods used to collect, cleanse, process and visualize the data. The image below represents the tasks associated with the entire data pipeline. It is a DAG (directed acyclic graph) of every task in the pipeline (created with <a href="https://github.com/spotify/luigi" target="_blank">Luigi</a>).
</p>

<p style="text-align: center;">
    <img alt="" class="size-full wp-image-208 aligncenter" height="356" src="../../wp-content/uploads/2017/03/dependency_graph.png" style="" title="" width="571"></p>

<p style="text-align: center;">
    <em>Figure 1. </em>Data pipeline
</p>

<p>
    The data pipeline takes an artist and an output directory as input. It then goes through the process of extracting lyrics, cleaning the lyrics, processing the lyrics and finally generating some visualizations. These processes are explained in further detail below.
</p>

<h3>
    Data Collection
</h3>

<p>
    The data collection process first searches for the artist provided as input on the site AZLyrics.com. If an artist shows in the search results, the pipeline further scrapes the website to obtain all songs available. These tasks, ObtainArtistUrl, FetchArtistSongs and FetchLyrics, are all performed using the <a href="https://pypi.python.org/pypi/requests/2.13.0" target="_blank">Requests</a> and <a href="https://pypi.python.org/pypi/lxml/3.7.2" target="_blank">LXML</a> libraries available in the Python language. Prior to web scraping, the pipeline creates a directory structure in the CreateDirectories task to store data, plots and reports in a tidy fashion within the specified output directory. Similar to the Billboard analysis, the swear word list from no-swearing.com is used to look for curse words throughout the text.
</p>

<h3>
    Data Cleansing
</h3>

<p>
    Preparation of the lyrics files consisted of removing unwanted text within the files. Many of the files contained labels in brackets to mark the chorus and other constructs of a song. These were removed from the files. Additionally, some lyrics files had a line that consisted of "Produced by…" which was removed. All data cleansing techniques used regular expressions in the Python programming language. Prior to this data cleansing step, raw data analysis was performed to determine what was causing "dirty results".
</p>

<h3>
    Text Processing and Visualization
</h3>

<p>
    The Python language and the following libraries were used to process and visualize the text: <a href="http://www.nltk.org/" target="_blank">NLTK</a>, <a href="http://pandas.pydata.org/" target="_blank">Pandas</a>, <a href="http://matplotlib.org/" target="_blank">Matplotlib</a> and <a href="http://scikit-learn.org/stable/documentation.html" target="_blank">Scikit-learn</a>. NLTK is a natural language processing tool kit that provides convenience functions for common tasks such as tokenization and sentiment analysis. The Pandas library is a tool that provides common data analysis features. It enables you to easily perform aggregations, obtain descriptive statistics and plot data by wrapping convenience methods from other libraries. When Pandas didn't provide the exact plotting styles that I wanted out of the box, I used Matplotlib functionality to add styling to the plots. Scikit-learn was used to extract TF-IDFs (term frequency–inverse document frequency) and to perform topic modeling. <a href="https://en.wikipedia.org/wiki/Tf%E2%80%93idf" target="_blank">TF-IDF</a> is essentially a statistical measure of how important a word is within a given document. <a href="https://en.wikipedia.org/wiki/Topic_model" target="_blank">Topic modeling</a> is a method that tries to find semantic meanings within a set of given text. In this analysis we use two different topic modeling algorithms; <a href="https://en.wikipedia.org/wiki/Latent_Dirichlet_allocation" target="_blank">LDA</a> and <a href="https://en.wikipedia.org/wiki/Non-negative_matrix_factorization" target="_blank">NMF</a>.
</p>

<h2>
    Analysis
</h2>

<p>
    In this section we look at the output of the data pipeline for the artists Twenty One Pilots and Eminem. These two artists were chosen to illustrate potential insights that can be gained from artists. Additionally, these two artists come from two different genres; pop and rap.
</p>

<p>
    Many of these techniques have already been explained in the Billboard analysis and are left out for brevity. I encourage you to read that blog post to learn more about the techniques.
</p>

<h3>
    Word Frequency
</h3>

<p>
    The word frequency represents the most common words found throughout all of the lyrics. It is normalized by the number of words in each document and the total number of songs observed. Comparing the artists below, we can see that Eminem has a tendency to swear a lot while Twenty One Pilots does not.
</p>

<p style="text-align: center;">
    <img alt="" class="alignnone size-full wp-image-218" height="330" src="../../wp-content/uploads/2017/03/word_frequency_plot_twentyone_pilots.png" style="" title="" width="480"><img alt="" class="alignnone size-full wp-image-219" height="330" src="../../wp-content/uploads/2017/03/word_frequency_plot_eminem.png" style="" title="" width="480"></p>

<h3>
    Swear Word Frequency
</h3>

<p>
    The swear word frequency is a measure of the number of curse words found throughout the lyrics. It is similar to the word frequency with the exception of curse words being targeted. The plots below only show the top 5 curse words found throughout the lyrics. It is pretty clear that Eminem curses quite a bit in his songs. The F-word shows up around 1.4% of the time. However, Twenty One Pilots only appears to curse very minimally with roughly 0.032% of the word "muff".
</p>

<p>
    While we are only looking at the frequency of individual swear words, one might be interested in an overall frequency. For the purposes of this analysis it has been left out, but it could easily be calculated.
</p>

<p style="text-align: center;">
    <img alt="" class="alignnone size-full wp-image-236" height="330" src="../../wp-content/uploads/2017/03/swearword_frequency_plot_twentyone_pilots2.png" style="" title="" width="480"><img alt="" class="alignnone size-full wp-image-223" height="330" src="../../wp-content/uploads/2017/03/swearword_frequency_plot_eminem.png" style="" title="" width="480"></p>

<h3>
    Repetitiveness
</h3>

<p>
    The repetitiveness is a measure of how many repetitions a particular phrase occurs. A threshold of 2 occurrences must be met in order for it to be considered repetitive. The actual calculation can be read within the Billboard analysis. The plots below show that Twenty One Pilots has a very high average repetition rate of 52% while Eminem has a much lower average rate of 7%.
</p>

<p style="text-align: center;">
    <img alt="" class="alignnone size-full wp-image-224" height="330" src="../../wp-content/uploads/2017/03/repetitiveness_plot_twentyone_pilots.png" style="" title="" width="480"><img alt="" class="alignnone size-full wp-image-225" height="330" src="../../wp-content/uploads/2017/03/repetitiveness_plot_eminem.png" style="" title="" width="480"></p>

<h3>
    Sentiment
</h3>

<p>
    The sentiment algorithm used is Vader within the NLTK library. It is a rule based algorithm trained from Twitter data. The Twenty One Pilots plot shows that their songs consist of both positive and negative sentiments while Eminem's lyrics have a higher negative sentiment.
</p>

<p style="text-align: center;">
    <img alt="" class="alignnone size-full wp-image-239" height="330" src="../../wp-content/uploads/2017/03/sentiment_plot_twentyone_pilots.png" style="" title="" width="480"><img alt="" class="alignnone size-full wp-image-240" height="330" src="../../wp-content/uploads/2017/03/sentiment_plot_eminem.png" style="" title="" width="480"></p>

<h3>
    Song Statistics
</h3>

<p>
    The song statistics simply plots the repetitiveness, positive sentiment and negative sentiment per song.
</p>

<p style="text-align: center;">
    <img alt="" class="alignnone size-full wp-image-226" height="330" src="../../wp-content/uploads/2017/03/song_statistics_plot_twentyone_pilots.png" style="" title="" width="480"><img alt="" class="alignnone size-full wp-image-227" height="330" src="../../wp-content/uploads/2017/03/song_statistics_plot_eminem.png" style="" title="" width="480"></p>

<h3>
    Album Statistics
</h3>

<p>
    The album statistics plots the repetitiveness, positive sentiment and negative sentiment per song. It is interesting that Twenty One Pilots highest repetitive album is Blurryface at a whopping 68%. The most repetitive album from Eminem is Straight From The Vault at around 23%.
</p>

<p style="text-align: center;">
    <img alt="" class="alignnone size-full wp-image-228" height="330" src="../../wp-content/uploads/2017/03/album_statistics_plot_twentyone_pilots.png" style="" title="" width="480"><img alt="" class="alignnone size-full wp-image-229" height="330" src="../../wp-content/uploads/2017/03/album_statistics_plot_eminem.png" style="" title="" width="480"></p>

<h3>
    Topic Modeling
</h3>

<p>
    The topic models shown below (one topic per line) is not very human friendly, however it makes sense to the computer. You can decipher a little bit of information from reading the topics. To build these topic models I used Sklearn. It extracted Ngrams from 1 to 2 N using the TfidfVectorizer within Sklearn and was fed into the algorithms. Essentially the vectorizer provides you with a list of features (Ngrams) and their inverse document frequency.
</p>

<p>
    You can see that LDA and NMF give different results. LDA is typically used in documents where there are semantic units within the text while NMF is used for non-word based documents such as images.
</p>

<h4>
    LDA
</h4>

<p>
    <strong>Twenty One Pilots Topics</strong>
</p>

<pre>
<code>na na na ll tell reign
da hey hey hey trying trying trying
bah re broken bah bah broken doo
fall don heart won watch
save re alive stay alive eh eh</code></pre>

<p>
    <strong>Eminem Topics</strong>
</p>

<pre>
<code>don cause shit fuck re
daddy phenomenal wanna love alright am phenomenal
paul rape don fuckin kidding ummm listened dead gay
yo requested intent checking week sayin called ok retilin goes
iâ canâ fucking kidding whatâ ish</code></pre>

<h4>
    NMF
</h4>

<p>
    <strong>Twenty One Pilots Topics</strong>
</p>

<pre>
<code>tell ll tell plans ll tell plans
na na na hello hello hello silent trees
hey hey hey trying trying trying trying sleep
sit sit silence silence car radio sit
play pretend pretend wish stressed re stressed</code></pre>

<p>
    <strong>Eminem Topics</strong>
</p>

<pre>
<code>don cause shit fuck re
name name name huh hi yeah yeah
paul ummm listened paul ummm incest incest rape
woah alright drug woah woah steve
daddy mommy rejoice carry don voice looking</code></pre>

<h2>
    Conclusion
</h2>

<p>
    Building this data pipeline has proved to provide me with useful information about a particular artist without actually listening to any of their songs. One could use some of these techniques to identify music suited for a particular age or culture. For example, you may not want your kid to listen to songs with a high rate of swearing or negativity. Creating this type of intuition about a particular artist may enable individuals to quickly compare several artists at once with some adjustments to the pipeline. Some unsupervised clustering could be used in conjunction with the topic models to find similar artists based on lyrics.
</p>

<p></p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/data-analytics/" rel="tag">data analytics</a></li>
            <li><a class="tag p-category" href="../../categories/data-mining/" rel="tag">data mining</a></li>
            <li><a class="tag p-category" href="../../categories/matplotlib/" rel="tag">matplotlib</a></li>
            <li><a class="tag p-category" href="../../categories/nlp/" rel="tag">nlp</a></li>
            <li><a class="tag p-category" href="../../categories/pandas/" rel="tag">pandas</a></li>
            <li><a class="tag p-category" href="../../categories/python/" rel="tag">python</a></li>
            <li><a class="tag p-category" href="../../categories/text-analysis/" rel="tag">text analysis</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../billboard-hot-100-lyric-analysis/" rel="prev" title="Billboard Hot 100 Lyric Analysis">Previous post</a>
            </li>
            <li class="next">
                <a href="../edit-distance-hierarchical-clustering/" rel="next" title="Edit Distance Hierarchical Clustering">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
<!--End of body content-->
</div>
<div class="footerbox">
  Contents © 2020 Tyler Marrs
  
</div>

            <script src="../../assets/js/all-nocdn.js"></script><!-- Add Jumbotron scroll js --><script type="text/javascript">//<![CDATA[
$(window).load(function(){
  $(window).scroll(function() {
    var scrolledY = $(window).scrollTop();
    $('.jumbotron').css('background-position', 'left ' + ((scrolledY)) + 'px');
  });
});//]]>
</script><!-- fancy dates --><script>
moment.locale("en");
fancydates(0, "YYYY-MM-DD");
</script><!-- end fancy dates --><script>
baguetteBox.run('div#content', {
    ignoreClass: 'islink',
    captions: function(element) {
        return element.getElementsByTagName('img')[0].alt;
}});
</script><!-- Abstract hide/show
<script src"/assets/js/div_toggle.js"></script>
--><script type="text/javascript">
function toggle(showHideDiv, switchTextDiv) {
    var ele = document.getElementById(showHideDiv);
    var text = document.getElementById(switchTextDiv);
    if(ele.style.display == "none") {
        ele.style.display = "block";
        text.innerHTML = "[hide abstract]";
    }
    else {
            ele.style.display = "none";
            text.innerHTML = "[show abstract]";
    }
}
</script>
</body>
</html>
